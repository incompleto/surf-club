{"version":3,"sources":["script.js"],"names":["TAU","Zdog","illo","Illustration","element","dragRotate","zoom","outline","Ellipse","addTo","width","height","stroke","color","quarters","fill","copy","rotate","z","eyeGroup","Group","translate","y","x","eye","copyGraph","mouth","Shape","path","bezier","closed","wrinkle","arc","head","body","document","getElementsByTagName","elem","documentElement","follow","cursor","windowWidth","window","innerWidth","clientWidth","windowHeight","innerHeight","clientHeight","Math","cos","PI","pageY","pageX","updateRenderGraph","addEventListener","$dog","querySelector","$circles","querySelectorAll","$texts","updateCirclePosition","top","getBoundingClientRect","style","marginTop","e","onload","IntersectionObserver","entries","forEach","entry","floor","intersectionRatio","root","rootMargin","threshold","observe"],"mappings":"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","file":"script.cb231eaa.js","sourceRoot":"../src","sourcesContent":["// script.js\n// face\n\nconst TAU = Zdog.TAU;\n\nlet illo = new Zdog.Illustration({\n  element: \".zdog-canvas\",\n  dragRotate: true,\n  zoom: 3\n});\n\nlet outline = new Zdog.Ellipse({\n  addTo: illo,\n  width: 120,\n  height: 120,\n  stroke: 6,\n  color: \"#000\",\n  quarters: 1,\n  fill: false\n});\n\noutline.copy({\n  rotate: { z: TAU / 2 }\n});\n\noutline.copy({\n  rotate: { z: TAU / 4 }\n});\n\noutline.copy({\n  rotate: { z: -TAU / 4 }\n});\n\nlet eyeGroup = new Zdog.Group({\n  addTo: illo,\n  translate: { y: -18, x: -16, z: 40 },\n  rotate: { x: -TAU / 2.2 }\n});\n\nlet eye = new Zdog.Ellipse({\n  addTo: eyeGroup,\n  width: 8,\n  height: 26,\n  stroke: 5,\n  color: \"#000\",\n  fill: true\n});\n\neyeGroup.copyGraph({\n  translate: { y: -18, x: 16, z: 40 }\n});\n\nlet mouth = new Zdog.Shape({\n  addTo: illo,\n  path: [\n    { x: -35, y: 20 },\n    {\n      bezier: [{ x: -18, y: 48 }, { x: 18, y: 48 }, { x: 35, y: 20 }]\n    }\n  ],\n  closed: false,\n  stroke: 7,\n  color: \"#000\",\n  translate: { y: -2, z: 40 }\n});\n\nlet wrinkle = new Zdog.Shape({\n  addTo: mouth,\n  path: [\n    { x: 0, y: 0 },\n    {\n      arc: [{ x: 6, y: -5 }, { x: 12, y: 0 }]\n    }\n  ],\n  translate: { x: -40.5, y: 23 },\n  rotate: { z: -TAU / 13 },\n  stroke: 6,\n  closed: false,\n  color: \"#000\"\n});\n\nlet head = new Zdog.Shape({\n  addTo: illo,\n  stroke: 110,\n  color: \"#f8d946\"\n});\n\nwrinkle.copyGraph({\n  translate: { x: 29, y: 18 },\n  rotate: { z: Zdog.TAU / 12 }\n});\n\n// dance\n\nconst body = document.getElementsByTagName(\"body\")[0];\nconst elem = document.documentElement;\n\nfunction follow(cursor) {\n  let windowWidth = window.innerWidth || elem.clientWidth || body.clientWidth,\n    windowHeight = window.innerHeight || elem.clientHeight || body.clientHeight;\n\n  let x = Math.cos((Math.PI * cursor.pageY) / windowHeight) * 0.35;\n  let y = Math.cos((Math.PI * cursor.pageX) / windowWidth) * 0.35;\n\n  illo.rotate.x = x;\n  illo.rotate.y = y;\n  illo.updateRenderGraph();\n}\n\naddEventListener(\"mousemove\", follow, false);\naddEventListener(\"touchstart\", follow, false);\naddEventListener(\"touchmove\", follow, false);\n\nillo.updateRenderGraph();\n\nlet $dog = document.querySelector(\".zdog-canvas\");\nlet $circles = document.querySelectorAll(\".js-circle\");\nlet $texts = document.querySelector(\".js-texts\");\n\nconst updateCirclePosition = () => {\n  let top = $texts.getBoundingClientRect().top;\n  let documentHeight = document.body.getBoundingClientRect().height;\n  let circleHeight = $circles[0].getBoundingClientRect().height;\n  let height = documentHeight / 2 - circleHeight / 2;\n  let y = height - top;\n\n  $circles[0].style.marginTop = `${y}px`;\n  $circles[1].style.marginTop = `${y}px`;\n};\n\naddEventListener(\"scroll\", e => {\n  updateCirclePosition();\n});\n\nwindow.onload = () => {\n  var options = {\n    root: null,\n    rootMargin: \"0px\",\n    threshold: [0.2]\n  };\n\n  let observer = new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      let r = Math.floor(entry.intersectionRatio * 100);\n    });\n  }, options);\n\n  observer.observe(document.querySelector(\".js-text\"));\n\n  updateCirclePosition();\n};\n"]}